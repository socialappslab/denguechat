-# TODO @awdorsett - update "Marcar no mapa" button if location is found
-# TODO @awdorsett - Update before photo area to indicate a photo has been uploaded
-# such as when you're returned to a page during after an error
-# TODO @awdorsett - refactor CSS for new_report_form


/------------------------------------------------------------------------------

= render :partial => "shared/flashes"
= render :partial => "shared/form_errors", :locals => {:item => @report}
= render :partial => "shared/form_errors", :locals => {:item => @location}


/------------------------------------------------------------------------------

.row
  .col-md-12

.row
  .col-md-6.col-md-offset-3
    %h1.light-font{:style => "font-size: 36px;"}
      = I18n.t("common_terms.create_a_report")

    .well
      = form_for [@neighborhood, @report], :url => neighborhood_reports_path(@neighborhood), :html => {:autocomplete => "off", :multipart => true, :id => "new_report"} do |f|

        = render :partial => "reports/clean_form", :locals => {:f => f, :disable => false}

        .row
          .col-md-12
            %p.form-label
              Donde encontrÃ³ el foco?
            = hidden_field_tag "location[latitude]"
            = hidden_field_tag "location[longitude]"
            = render :partial => "reports/google_map"



        .row
          .col-md-6
            = link_to I18n.t("common_terms.cancel"), neighborhood_reports_path(@neighborhood), :class => "btn btn-default btn-lg btn-block"
          .col-md-6
            = button_tag :type => "submit", :class => "btn btn-success btn-lg btn-block submit-button pull-right" do
              %i.fa.fa-refresh.fa-spin{:style => "display:none;"}
              = @report.new_record? ? I18n.t("views.buttons.create") : I18n.t("views.buttons.update")

- content_for :scripts do
  = javascript_include_tag "map-2"
  = javascript_include_tag "googlemap/map-csv-2"
  = javascript_include_tag "image-compression"
  = javascript_include_tag "moment"
  = javascript_include_tag "bootstrap/datetimepicker"
  = javascript_include_tag "datepicker"
