-# TODO @awdorsett - make placeholders dynamic for multiple languages
-# TODO @awdorsett - update "Marcar no mapa" button if location is found
.row
  -# TODO @awdorsett - refactor CSS for new_report_form

  #new_report_form
    = form_for(@new_report, :url => {:action => "create", :html => {:autocomplete => "off", :multipart => true}}) do |f|
      = hidden_field_tag 'error', @create_error
      = hidden_field_tag 'report_id', @new_report.id
      / = f.label "Escolha o tipo e o método de eliminação do foco"

      -# TODO @awdorsett - do we need this, if so is this the best way to do it?
      -#- if @new_report.sms_incomplete?
      -#  %label Localização enviada por torpedo:
      -#  %p #{@new_report.report}
      -#  %br
      -#- if @new_report.sms_incomplete?
      -#  = f.label :address, "1. Escrever a localização no formato solicitado:"
      -#- else
        = f.label :address, "1. Endereço do foco localizado:"
      / # = text_field_tag :location, nil, :placeholder => 'Localização', :id => 'report_address', :value => flash[:address]

      #address
        %h3.new_report_label 1. Endereço do foco localizado
        -# TODO @awdorsett - placeholder is cut off, fix styling
        = text_field_tag :street_type, @new_report_location.street_type, placeholder: "Rua, Beco etc.", class: "middle_field address_field"
        -# TODO @awdorsett - fix inline style
        = text_field_tag :street_name, @new_report_location.street_name, placeholder: "Nome", title: "No caso de rua de número, escreva o endereço por extenso. Ex: Rua Dois, Travessa Quatorze.",
          style: "width:200px;", class: 'address_field'
        = text_field_tag :street_number, @new_report_location.street_number, placeholder: "Número", class: "middle_field address_field"


      #description
        %h3.new_report_label 2. Descrição da localização
        = f.text_area :report, :placeholder => 'Descreva a localização do foco (max 100 caracteres) Ex: Foco no terreno ao lado; ou, Foco na calçada em frente',
          :id => 'report_content', :maxlength => 100, :rows => 3, :value =>  @new_report.report

      #photo
        %h3.new_report_label 3. Carregue a imagem do foco encontrado:
        = f.file_field :before_photo
      %br

      #elimination_type
        %h3.new_report_label.inline_display 4. Tipo de foco
        = f.select :elimination_type, options_for_select(@elimination_types, @new_report.elimination_type), prompt:"Selecione o tipo de eliminação do foco"
      %br

      #location
        %h3.new_report_label.inline_display 5.
        = link_to "Marcar no mapa", nil, id:'mark_map_bttn', class: 'bttn', onclick:'update_location_coordinates_new_report(event)'
        = hidden_field_tag "x", @new_report_location.latitude, class:'location_field'
        = hidden_field_tag "y", @new_report_location.longitude, class: 'location_field'
        %br
      -#- if @new_report.location
      -#  = hidden_field_tag "x", "", value: @new_report.location.latitude
      -#  = hidden_field_tag "y", "", value: @new_report.location.longitude
      -#- else

      -# TODO @awdorsett - move styling in css file
      %p{style: "font-weight:bold;font-size:13px;margin-top:10px;"}
        %b{style: "color:red;"}
          ATENÇÃO:
        O mapa pode não encontrar o seu endereço. Nesse caso, procure a localização correta e clique manualmente para adicionar o marcador.
      %br

      = f.submit "Enviar!"



-# TODO @awdorsett - old code, delete when new code properly tested
-#.row
-#  - if flash[:notice]
-#    %h2.notice{style: "margin: 10px; width: 700px;"}
-#      = flash[:notice]
-#  #reports_open
-#    = form_for(@report, :url => {:action => "create", :html => {:autocomplete => "off", :multipart => true}}) do |f|
-#      = f.error_messages
-#      = hidden_field_tag 'report_id', @report.id
-#      / = f.label "Escolha o tipo e o método de eliminação do foco"
-#      - if @report.sms_incomplete?
-#        %label Localização enviada por torpedo:
-#        %p #{@report.report}
-#        %br
-#      - if @report.sms_incomplete?
-#        = f.label :address, "1. Escrever a localização no formato solicitado:"
-#      - else
-#        = f.label :address, "1. Endereço do foco localizado:"
-#      / # = text_field_tag :location, nil, :placeholder => 'Localização', :id => 'report_address', :value => flash[:address]
-#      = text_field_tag :street_type, "", placeholder: "Rua, Beco etc.", class: "short_field", value: flash[:street_type]
-#      = text_field_tag :street_name, "", placeholder: "Nome", title: "No caso de rua de número, escreva o endereço por extenso. Ex: Rua Dois, Travessa Quatorze.", style: "width:200px;", value: flash[:street_name]
-#      = text_field_tag :street_number, "", placeholder: "Número", class: "middle_field", value: flash[:street_number]
-#      = text_field_tag :neighborhood, "Maré", placeholder: "Maré", class: "short_field", disabled:true
-#      %br
-#      = f.label :report, "3. Descrição da localização:"
-#      = f.text_area :report, :placeholder => 'Descreva a localização do foco (max 100 caracteres) Ex: Foco no terreno ao lado; ou, Foco na calçada em frente', :id => 'report_content', :maxlength => 100, :rows => 3, value: flash[:description]
-#      %br
-#      = f.label :before_photo, "4. Carregue a imagem do foco encontrado:"
-#      = f.file_field :before_photo
-#      - if @report.location
-#        = hidden_field_tag "x", "", value: @report.location.latitude
-#        = hidden_field_tag "y", "", value: @report.location.longitude
-#      - else
-#        = hidden_field_tag "x"
-#        = hidden_field_tag "y"
-#      %br
-#      %br
-#      = f.submit "Enviar!"
-#      %p{style: "font-weight:bold;font-size:13px;margin-top:10px;"}
-#        %b{style: "color:red;"}
-#          ATENÇÃO:
-#        O mapa pode não encontrar o seu endereço. Nesse caso, procure a localização correta e clique manualmente para adicionar o marcador.
