= form_for [@neighborhood, @report], :html => {:autocomplete => "off", :multipart => true, :id => "new_report"} do |f|
  - if @report.reporter_id.blank?
    = f.hidden_field :reporter_id, :value => @current_user && @current_user.id

  .form-group
    = f.label :location do
      - if @neighborhood.nicaraguan?
        1. Haga click y mueva el marcador donde encontrÃ³ el foco
      - else
        = "1. " + I18n.t("report.form.address")

    = f.fields_for :location, @report.location || Location.new do |location_fields|
      - if @neighborhood.mexican? || @neighborhood.brazilian?
        = location_fields.text_field :address, :placeholder => I18n.t("attributes.address"), style: "width:500px;", class: 'address_field'
      = location_fields.hidden_field :latitude
      = location_fields.hidden_field :longitude


    %p{style: "font-weight: bold;"}
      %b{style: "color:red;"}
        = I18n.t("report.form.attention")

    #map_div{:style => "position: static;"}
      = render :partial => "reports/google_map"


  .form-group
    = f.label :breeding_site_id, "2. " + I18n.t("activerecord.attributes.report.elimination_type")
    = f.select :breeding_site_id, BreedingSite.all.map {|bs| [bs.description, bs.id]} , {:prompt => I18n.t("report.form.select_elimination_type")}, :class => "form-control"

  .form-group
    = f.label :larvae, "3. " + I18n.t("views.reports.new.did_you_see_larvae")
    %p{:style => "padding: 15px; display: inline-block;"}
      = I18n.t("views.reports.new.description_of_larvae")

    %div{:style => "display: block;"}
      .radio-inline
        = f.radio_button :larvae, "true"
        = I18n.t("common_terms.yes_string")
      .radio-inline{:style => "margin-left: 50px;"}
        = f.radio_button :larvae, "false", :checked => true
        = I18n.t("common_terms.no_html_string").html_safe


  .form-group
    = f.label :before_photo, "4. " + I18n.t("report.form.photo_of_report")

    = f.file_field :before_photo, :class => "upload_photo form-control"
    %img.preview{:style => "display: block;"}
    %canvas{:style => "display: none;"}
    = hidden_field_tag "report[compressed_photo]", nil, :class => "compressed_photo"

  .form-group
    = f.label :report, "5. " + I18n.t('activerecord.attributes.report.report')

    = f.text_field :report, :placeholder => I18n.t("views.reports.new.description_placeholder"), :class => "form-control"


  .form-group

    = button_tag :type => "submit", :class => "btn btn-success btn-lg submit-button", :style => "width: 100%;" do
      %i.fa.fa-refresh.fa-spin{:style => "display:none;"}
      = I18n.t("views.buttons.create")


- content_for :scripts do
  = javascript_include_tag "map"
  = javascript_include_tag "googlemap/map-csv"
  = javascript_include_tag "image-compression"
