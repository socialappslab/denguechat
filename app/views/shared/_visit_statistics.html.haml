-# %table.table.table-bordered.location-statistics-table{:style => "margin-bottom: 40px;"}
-#   %tbody
-#     %tr
-#       %td{:style => "width: 25%;"}
-#         %h1{:style => "color: #5cb85c;"}
-#           = @clean_locations.to_s
-#           %span{:style => "font-weight: normal; font-size: 24px; display: inline;"}
-#             de
-#           = @total_locations.to_s
-#           .percentages
-#             = @total_locations == 0 ? "(0%)" : "(" + ((@clean_locations.to_f / @total_locations) * 100).round(0).to_s + "%)"
-#         %p
-#           = I18n.t("views.statistics.table.clean_sites")
-#
-#       %td
-#         %h1{:style => "color: #95a5a6;"}
-#           = @negative_locations.to_s
-#           %span{:style => "font-weight: normal; font-size: 24px; display: inline;"}
-#             de
-#           = @total_locations.to_s
-#           .percentages
-#             = @total_locations == 0 ? "(0%)" : "(" + ((@negative_locations.to_f / @total_locations) * 100).round(0).to_s + "%)"
-#         %p
-#           = I18n.t("views.statistics.table.negative_sites")
-#
-#       %td
-#         %h1{:style => "color: #f1c40f;"}
-#           = @potential_locations.to_s
-#           %span{:style => "font-weight: normal; font-size: 24px; display: inline;"}
-#             de
-#           = @total_locations.to_s
-#           .percentages
-#             = @total_locations == 0 ? "(0%)" : "(" + ((@potential_locations.to_f / @total_locations) * 100).round(0).to_s + "%)"
-#         %p
-#           = I18n.t("views.statistics.table.potential_sites")
-#
-#
-#       %td
-#         %h1{:style => "color: #d9534f;"}
-#           = @positive_locations.to_s
-#           %span{:style => "font-weight: normal; font-size: 24px; display: inline;"}
-#             de
-#           = @total_locations.to_s
-#           .percentages
-#             = @total_locations == 0 ? "(0%)" : "(" + ((@positive_locations.to_f / @total_locations) * 100).round(0).to_s + "%)"
-#         %p
-#           = I18n.t("views.statistics.table.positive_sites")


%h3{:style => "font-size: 24px; margin-top: 40px; text-align: center;"}
  = I18n.t('views.statistics.table.title')


#piechart{:style => "width: 100%; height: 300px;"}

:javascript
  google.load('visualization', '1', {packages: ['corechart']});
  google.setOnLoadCallback(drawPieChart);

  function drawPieChart() {
    var statistics = #{@last_statistics.to_json};
    statistics.unshift([
      "#{I18n.t('views.statistics.chart.time')}",
      "#{I18n.t('views.statistics.chart.sites')}"
    ]);

    var data = google.visualization.arrayToDataTable(statistics);

    console.log(statistics)

    var options = {
      sliceVisibilityThreshold:0,
      width: $("#piechart").width(),
      chartArea: {
        top: 50,
        height: "90%"
      },

      backgroundColor: '#eff0f3',
      colors: ["#e74c3c", "#f1c40f", "#95a5a6", "#2ecc71"],
      legend: {
        textStyle: {
          fontSize: "12"
        }
      }
    };

    var chart = new google.visualization.PieChart(document.getElementById('piechart'));
    chart.draw(data, options);
  };
