$("#whole_table").append('<tr><td>#{@type.name}</td><td></td><td><a href="" class="edit_type" id="edit_type_#{@type.id}"" data-id="#{@type.id}">Editar</a></td><td><a href="" class="delete_type" id="delete_type_#{@type.id}" data-id="#{@type.id}">Deletar</a></td></tr><tr><td style="padding-left:40px;"><input type="text" style="width:500px;margin-bottom:0px;" placeholder="Novo mÃ©todo" id="new_method_name_#{@type.id}"></td><td><input type="text" style="width:100px;margin-bottom:0px;" placeholder="pontos" id="new_method_points_#{@type.id}"></td><td><a class="new_method type_#{@type.id}" id="new_method_#{@type.id}" data-id="#{@type.id}" href="">Salvar</a></td><td></td>');
$("#type_name").val('');

$("#new_method_#{@type.id}").click(function() {var name = $($($(this).parent().parent().children()[0]).children()[0]).val();var points = $($($(this).parent().parent().children()[1]).children()[0]).val();var current_id = "#" + $(this).attr("id");$.ajax({url: "/elimination_methods",method: "POST",dataType: "script",data: "name=" + name + "&points=" + points + "&current_id=" + current_id + "&type_id=" + $(this).data("id")});return false;});

$("#edit_type_#{@type.id}").click(function() {var name = $($(this).parent().parent().children()[0]);if ($(this).html() == "Editar") {$(this).html("Salvar");var name = $($(this).parent().parent().children()[0]);$(name).replaceWith('<input style="width:500px;margin-bottom:0px;" type="text" value="' + $(name).html() + '">');} else {var url = "/elimination_types/" + $(this).data("id");$.ajax({url: url,method: "PUT",dataType: "script",data: "name=" + $(name).val()});}return false;});
$(".delete_type").click(function() {var url = "/elimination_types/" + $(this).data("id");$.ajax({url: url,method: "DELETE",dataType: "script"});return false;});