- content_for :scripts do
  :javascript
    $("#complete_name").tooltip();
    var verifiers = #{@verifiers.to_json};
    var residents = #{@residents.to_json};

    $("select#recruitment").change(function()
    {
      if ($("#recruitment").val() == "AVS/ACS")
      {
        $("input#recruiter_name").autocomplete(
        {
          source: verifiers,
          select: function(event, ui)
          {
            event.preventDefault();
            $("input#recruiter_name").val(ui.item.label);
            $("input#recruiter_id").val(ui.item.value);
          }
        });
      }
      else if ($("#recruitment").val() == "MORADOR/VIZINHO")
      {
        // $("input#recruitment").show();
        $("input#recruiter_name").autocomplete(
        {
          source: residents,
          select: function(event, ui)
          {
            event.preventDefault();
            $("input#recruiter_name").val(ui.item.label);
            $("input#recruiter_id").val(ui.item.value);
          }
        });
      }
      else
      {
        $("input#recruitment").hide();
      }
    });

    $(document).ready(function()
    {
      if($("#cellphone").prop("checked"))
      {
        $("#user_phone_number").val("000000000000")
        $("#user_carrier").val("xxx")
      }


      if ($("#user_phone_number").val() == "000000000000" && $("#user_carrier").val() == "xxx")
        $("#cellphone").attr("checked", true)
    });

    $("#cellphone").on("change", function()
    {
      if(this.checked)
      {
        $("#user_phone_number").val("000000000000")
        $("#user_carrier").val("xxx")
      }
      else
      {
        $("#user_phone_number").val("")
        $("#user_carrier").val("")
      }
    });


    window.onload = $("#name_edit_box").slideToggle("fast");
    $(".collapse_name").click(function(event){
      event.preventDefault();
      $("#name_edit_box").slideToggle("fast");
    });



= render :partial => "shared/flashes"
= render :partial => "shared/form_errors", :locals => {:item => @user}

#register{:style => "margin: auto; width: 50%; text-align: center;"}
  .well

    - if @user == @current_user
      - if @current_user.can_manage_other_users?
        = render :partial => "users/admin_links"
      - elsif @current_user.role == User::Types::SPONSOR
        #role_specific
          %h2 Configurações de patrocinador
          %p.link
            = link_to "Códigos de controle dos prêmios", "/coupons"



    = form_for(@user, :html => {name: "configuration", :class => "form-horizontal"}, :url => {:action => "update", :house_name_confirmation => @house_name_confirmation, :html => {:class => "form-horizontal", :autocomplete => "off", :multipart => true}}) do |f|

      .row
        .span4
          = link_to "+ " + I18n.t("views.teams.create"), teams_path(:form => true), :class => "btn btn-info btn-large"

        .span4
          = link_to "+ " + I18n.t("views.teams.join"), teams_path, :class => "btn btn-info btn-large", :style => "float: right;"

      %hr



      %h1{:id => "role_title"}
        = I18n.t("common_terms.configuration")

      .question_mark_div
        -# = f.label "Nome completo", class:"config_form_title"
        -# %span.question_mark{class:"config_form_title question_mark", title:"O Nome Completo é utilizado para realizar o resgate do prêmio nos estabelecimentos patrocinadores. É importante informar o nome correto para evitar problemas no momento do resgate dos prêmios. Em caso de dúvida leia nossa Política de Privacidade e a página de Perguntas Frequentes. "} ?

      -# %h2#user_name #{@user.full_name}
      -# = link_to "Editar","",class:"collapse_name"

      .control-group
        = f.label :first_name, :class => "control-label"
        .controls
          = f.text_field :first_name, :class => "form-control"

      .control-group
        = f.label :last_name, :class => "control-label"
        .controls
          = f.text_field :last_name, :class => "form-control"

      .control-group
        = f.label :nickname, :class => "control-label"
        .controls
          = f.text_field :nickname, :class => "form-control"

      .control-group
        = f.label I18n.t("views.users.edit.show_name_as"), :class => "control-label"
        .controls
          = f.select :display, options_for_select(@user.display_name_options, @user.display),{:name => "display", :id => "display_select"}

      .control-group
        = f.label :gender, :class => "control-label"
        .controls

          = f.radio_button :gender, "true", :checked => (@user.gender == true), :class => "inline"
          = I18n.t("common_terms.male")
          = f.radio_button :gender, "false", :checked => (@user.gender == false), :class => "inline"
          = I18n.t("common_terms.female")


      .control-group
        = f.label :email, :class => "control-label"
        .controls
          = f.text_field :email, :class => "form-control"




      .control-group
        = f.label :profile_photo, :class => "control-label"
        .controls
          = f.file_field :profile_photo, :class => "form-control"


      .control-group
        = f.label "Bairro", :class => "control-label"
        .controls
          / TODO: We're disabling choosing other neighborhoods until we introduce
          / another neighborhood
          /= f.select(:neighborhood_id, Neighborhood.all.map {|n| [n.name, n.id]})
          - mare = Neighborhood.find_by_name("Maré")
          = f.select :neighborhood_id, [ [mare.name, mare.id] ], :class => "form-control"

      = link_to "Alterar minha senha", edit_password_reset_path(@user), :id => "reset_password_link",id:'password_reset'


      %hr
      .control-group
        = f.label :phone_number, :class => "control-label"
        .controls
          = f.text_field :phone_number, :placeholder => "0219xxxxxxxx", :class => "form-control"

      .control-group
        = f.label :carrier, :class => "control-label"
        .controls
          = f.text_field :carrier, :class => "form-control"

      .control-group
        = f.label :prepaid, :class => "control-label"
        .controls
          = f.radio_button :prepaid, "true", id:"pre_paid_radio", checked: "checked"
          Pré-pago
          = f.radio_button :prepaid, "false", id:"post_paid_radio"
          Pós-pago

      -# .control-group
      -#   .controls
      -#     = check_box_tag :cellphone, false
      -#     Clique aqui se você não tiver um celular.

      %hr





      .control-group
        = f.label "Alguém o convidou a se cadastrar no DT?", :class => "control-label"
        .controls
          -# %select#recruitment{:name => "recruitment_type"}
          -#   %option NINGUÉM
          -#   %option AVS/ACS
          -#   %option MORADOR/VIZINHO
          -# %br
          -#   %input{:id => "recruiter_name", :name => "recruiter_name"}
          -#   %input{:type => "hidden", :name => "recruiter_id", :id => "recruiter_id"}
          = select_tag :recruiter_name, options_for_select(User.all.map {|u| [u.full_name, u.id]}), :include_blank => true


      #house_configuration
        = f.submit I18n.t("views.button.confirm"), {:class => "btn btn-success btn-large btn-block"}
