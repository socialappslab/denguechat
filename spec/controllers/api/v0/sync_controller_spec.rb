# -*- encoding : utf-8 -*-
require "rails_helper"

describe API::V0::SyncController do
  render_views

  #--------------------------------------------------------------------------

  describe "Syncs" do
    let(:user)         { create(:user) }
    let!(:neighborhood) { create(:neighborhood, :id => 52, :name => "Test")}
    let(:organization) { create(:organization) }
    let!(:membership)   { create(:membership, :organization_id => organization.id, :user_id => user.id, :role => "admin") }

    before(:each) do
      cookies[:auth_token] = user.auth_token

      API::V0::BaseController.any_instance.stub(:authenticate_user_via_jwt).and_return(true)
      API::V0::BaseController.any_instance.stub(:current_user_via_jwt).and_return(user)
    end

    it "doesn't error out on unpermitted params" do
      put :post, changes_params.merge({:format => :json})
      expect(JSON.parse(response.body)["post"]["id"]).to eq(1)
    end
  end
end

def changes_params
  {"changes"=>{"results"=>[{"id"=>"4702018-04-21T03:18:03.843Z52", "changes"=>[{"rev"=>"1-782f09e7f41b2f4e68fd3d9112cbb362"}], "doc"=>{"user_id"=>470, "neighborhood_id"=>52, "created_at"=>"2018-04-21T03:18:03.843Z", "user"=>{"token"=>"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MjQzNjY1MTAsImlhdCI6MTUyNDI4MDExMCwiaXNzIjpudWxsLCJzY29wZXMiOlsiYWRkX3Zpc2l0cyIsImNoYW5nZV92aXNpdHMiLCJyZW1vdmVfdmlzaXRzIiwiYWRkX2hvdXNlcyIsImNoYW5nZV9ob3VzZXMiLCJyZW1vdmVfaG91c2VzIiwiYWRkX2luc3BlY3Rpb25zIiwiY2hhbmdlX2luc3BlY3Rpb25zIiwicmVtb3ZlX2luc3BlY3Rpb25zIiwiYWRkX2JyZWVkaW5nX3NpdGVzIiwiY2hhbmdlX2JyZWVkaW5nX3NpdGVzIiwicmVtb3ZlX2JyZWVkaW5nX3NpdGVzIl0sInVzZXIiOnsiaWQiOjQ3MCwidXNlcm5hbWUiOiJjZHBhcnJhIiwiZW1haWwiOiJjZHBhcnJhQGdtYWlsLmNvbSJ9fQ.xwzDg2wK9m86UZrPk0guXR7GwX-RNGUF1G64C8z0g-U", "id"=>470, "name"=>"Cristhian Parra", "username"=>"cdparra", "email"=>"cdparra@gmail.com", "neighborhood_id"=>52, "display_name"=>"cdparra", "picture"=>"https://gravatar.com/avatar/4f091ef04611939a6438507e10a2661c.png?r=pg&s=80&d=retro", "neighborhood"=>{"id"=>52, "name"=>"San Cayetano", "city_id"=>9, "geographical_display_name"=>"San Cayetano, Asunción", "city"=>{"name"=>"Asunción", "state"=>"Central", "country"=>"Paraguay", "localized_country_name"=>"Paraguay"}}, "visit_questionnaire"=>[{"code"=>"presence_near_person_with_symptoms","body"=>"¿Estoy en la casa de la persona con sintomas?", "type"=>"radio", "answer_choices"=>[{"id"=>1, "body"=>"No"}, {"id"=>2, "body"=>"Si"}]}, {"code"=>"full_name_with_symptoms", "body"=>"¿Cuál es el nombre y el apellido completo de la persona con sintomas?", "type"=>"text"}, {"code"=>"date_of_birth", "body"=>"¿Cuál es la fecha de nacimiento de la persona con sintomas?", "type"=>"date"}, {"code"=>"gender", "body"=>"¿La persona con sintomas es mujer o hombre?", "type"=>"radio", "answer_choices"=>[{"id"=>1, "body"=>"Mujer"}, {"id"=>2, "body"=>"Hombre"}]}, {"code"=>"identification_document_type", "body"=>"¿Cuál es el tipo de documento de indentificación de la persona con síntomas?", "type"=>"radio", "answer_choices"=>[{"id"=>1, "body"=>"Cedula de Ciudadania"}, {"id"=>2, "body"=>"RegistroCivil"}, {"id"=>3, "body"=>"Tarjeta de Identidad"}, {"id"=>4, "body"=>"Pasaporte"}, {"id"=>5, "body"=>"Cedula de Extranjeria"}, {"id"=>6, "body"=>"No contestar a esta pregunta"}]}, {"code"=>"identification_document_number", "body"=>"¿Cuál es el número del documentode identificación de la persona con síntomas?", "type"=>"text"}, {"code"=>"telephone_number", "body"=>"¿Cuál es el número del teléfono celular o fijo de la persona con síntomas?", "type"=>"text"}, {"code"=>"symptoms", "body"=>"Seleccionan los sintomas de la persona:", "type"=>"checkbox", "answer_choices"=>[{"id"=>1, "body"=>"Fiebre"}, {"id"=>2, "body"=>"Mal-estar"}, {"id"=>3, "body"=>"Dolor muscular"}, {"id"=>4, "body"=>"Dolor articular"}, {"id"=>5, "body"=>"Dolor abdominal"}, {"id"=>6, "body"=>"Brote de color rojo en el cuerpo"}, {"id"=>7, "body"=>"Conjuntivitis"}, {"id"=>8, "body"=>"Dolor de cabeza"}, {"id"=>9, "body"=>"Otro"}]}, {"code"=>"date_of_beginning_of_symptoms", "body"=>"¿Cuál es la fecha de inicio de los síntomas?", "type"=>"date"}], "location_questionnaire"=>[{"code"=>"public_space_type", "body"=>"¿Qué tipo de espacio público notifica?", "type"=>"radio", "answer_choices"=>[{"id"=>1, "body"=>"Calle"}, {"id"=>2, "body"=>"Colegio"}, {"id"=>3, "body"=>"Iglesia"}, {"id"=>4, "body"=>"Lote"}, {"id"=>5, "body"=>"Parque"}, {"id"=>6, "body"=>"Parqueadero"}, {"id"=>7, "body"=>"Negocio"}, {"id"=>8, "body"=>"Ladera"}, {"id"=>9, "body"=>"Otro"}]}], "city"=>{"name"=>"Asunción", "state"=>"Central", "localized_country_name"=>"Paraguay"}, "breeding_sites"=>[{"id"=>16, "description"=>"Barril", "elimination_methods"=>[{"id"=>50, "description"=>"Cambie el agua semanalmente"}, {"id"=>4, "description"=>"Retire el agua y limpie para remover posibleshuevos (una vez por semana)"}, {"id"=>43, "description"=>"Tapar adecuadamente con tapa o con una capota apropiada"}, {"id"=>63, "description"=>"Tirar el agua"}]}, {"id"=>3, "description"=>"Basura (recipientes inutilizados)", "elimination_methods"=>[{"id"=>10, "description"=>"Organice una campaña para limpiar el barrio (coordinado por los Agentes de Vigilancia Sanitaria) Ejemplo: Busque lugares donde no tienen acceso los barrenderos de la comunidad"}, {"id"=>9, "description"=>"Tire la basura en un basurero bien tapado"}, {"id"=>11, "description"=>"Únase a una campaña para limpiar el barrio (coordinado por los Agentes de Vigilancia Sanitaria) Ejemplo: en lugares donde no tienen acceso los barrenderos de la comunidad"}]}, {"id"=>13, "description"=>"Contenedores pequeños (de vidrio, jarrones, cubetas, tazones de agua, bolsas de plástico)", "elimination_methods"=>[{"id"=>41, "description"=>"Elimine hacienda hoyos en el plato"}, {"id"=>40, "description"=>"Remueva el agua y talle una vez por semana; en caso de ser bebedero de animales o aves, cambiar el agua diariamente"}]}, {"id"=>6, "description"=>"Cuneta", "elimination_methods"=>[{"id"=>32, "description"=>"Destapar y limpiar"}]}, {"id"=>11, "description"=>"Drenajes", "elimination_methods"=>[{"id"=>24, "description"=>"Añada cloro o desinfectante semanalmente"}, {"id"=>46, "description"=>"Elimine la obstrucción"}, {"id"=>47, "description"=>"Suspenda los drenajes no utilizados"}]}, {"id"=>2, "description"=>"Llanta", "elimination_methods"=>[{"id"=>8, "description"=>"Cubra la llanta con algo que no se transforme en un foco potencial de mosquitos"}, {"id"=>38, "description"=>"Deshágase de la llanta (entregue al servicio de limpieza)"}, {"id"=>39, "description"=>"Organice un uso alternativo para la llanta: rellenar con tierra para hacer una jardinera; rellenar con tierra y hacer una hortaliza; rellenar con arena, tierra y cemento y utilizar como punto de paso"}, {"id"=>7, "description"=>"Transferir la llanta a un lugar cubierto y seco"}]}, {"id"=>14, "description"=>"Otros contenedores grandes utilizables (galones, piletas, otros depósitos de agua)", "elimination_methods"=>[{"id"=>42, "description"=>"Cubrir la caida del agua"}, {"id"=>44, "description"=>"Otros recipientes (limpie, seque, cubra o selle)"}]}, {"id"=>9, "description"=>"Piscinas", "elimination_methods"=>[{"id"=>21, "description"=>"Piscinas em uso: esfregue e limpe uma vez por semana"}, {"id"=>22, "description"=>"Piscinas que não estão em uso: esfregue, seque e vire ao contrário. Em casos de piscina de plástico desmonte e guarde"}]}, {"id"=>1, "description"=>"Plato pequeño de maceta o florero", "elimination_methods"=>[{"id"=>37, "description"=>"Coloque arena"}, {"id"=>35, "description"=>"Elimine haciendo agujeros en el plato"}, {"id"=>36, "description"=>"Plato removido (es decir, no se utilizará más)"}, {"id"=>55, "description"=>"Retire el agua acumulada en las hojas"}]}, {"id"=>10, "description"=>"Pozas de agua en la calle", "elimination_methods"=>[{"id"=>45, "description"=>"Elimine el agua con una escobilla de goma o una escoba"}]}, {"id"=>7, "description"=>"Registros abiertos", "elimination_methods"=>[{"id"=>19, "description"=>"Cancelación de registro"}, {"id"=>18, "description"=>"Llene con arena o tierra y cambie de lugar el acceso a la válvula"}, {"id"=>17, "description"=>"Selle con una cubiert impermeable para prevenir la penetración de agua sin perder acceso al registro"}]}, {"id"=>17, "description"=>"Sumideros", "elimination_methods"=>nil}, {"id"=>8, "description"=>"Techo y terrazas con agua", "elimination_methods"=>[{"id"=>20, "description"=>"Limpiar"}]}], "neighborhoods"=>[{"id"=>27, "name"=>"Alexis Arguello 2"}, {"id"=>7, "name"=>"Ariel Darce"}, {"id"=>25, "name"=>"Berthilda Olegario"}, {"id"=>28, "name"=>"Bloque k"}, {"id"=>50, "name"=>"Caacupemí"}, {"id"=>38, "name"=>"Camilo Chamorro 1"}, {"id"=>39, "name"=>"Camilo Chamorro 2"}, {"id"=>40, "name"=>"Camilo Chamorro 3"}, {"id"=>41, "name"=>"Camilo Chamorro 4"}, {"id"=>22, "name"=>"Camilo Ortega 1"}, {"id"=>12, "name"=>"Centro Escolar Rafaela Herrera"}, {"id"=>19, "name"=>"Divino Pastor"}, {"id"=>32, "name"=>"El Laurel"}, {"id"=>5, "name"=>"Francisco Meza"}, {"id"=>10, "name"=>"Galope"}, {"id"=>16, "name"=>"Germán Pomares"}, {"id"=>42, "name"=>"Hugo Chávez 1"}, {"id"=>43, "name"=>"Hugo Chávez 2"}, {"id"=>44, "name"=>"Hugo Chávez 3"}, {"id"=>45, "name"=>"Jorge Salazar"}, {"id"=>9, "name"=>"Josefa Ortiz de Domínguez"}, {"id"=>36, "name"=>"La Esperanza"}, {"id"=>49, "name"=>"La Fachada"}, {"id"=>8, "name"=>"La Quinta"}, {"id"=>33, "name"=>"La Zacatera"}, {"id"=>26, "name"=>"Lomas del Sur"}, {"id"=>20, "name"=>"Los Solanos"}, {"id"=>48, "name"=>"Managua Test Comunidad"}, {"id"=>35, "name"=>"Marco Somarriba"}, {"id"=>1, "name"=>"Maré"}, {"id"=>18, "name"=>"María Mora"}, {"id"=>14, "name"=>"Martha Aguilar"}, {"id"=>17, "name"=>"Martín Lutero"}, {"id"=>4, "name"=>"Ocachicualli"}, {"id"=>37, "name"=>"Pablo Sexto"}, {"id"=>52, "name"=>"San Cayetano"}, {"id"=>51, "name"=>"San Ignacio"}, {"id"=>30, "name"=>"San José de las Colinas"}, {"id"=>15, "name"=>"San Luis"}, {"id"=>34, "name"=>"Sierra Maestra Norte"}, {"id"=>29, "name"=>"Solidaridad"}, {"id"=>11, "name"=>"Tangará"}, {"id"=>24, "name"=>"Tangará Buena Vista"}, {"id"=>3, "name"=>"Tepalcingo"}, {"id"=>13, "name"=>"Test Neighborhood"}, {"id"=>31, "name"=>"Villa Esperanza"}, {"id"=>46, "name"=>"Villa Reconciliación Norte 2"}, {"id"=>47, "name"=>"Villa Reconciliación Norte 3"}, {"id"=>21, "name"=>"Vladimir Hernández"}, {"id"=>23, "name"=>"William Galeano"}], "total_points"=>0, "green_locations"=>0, "_id"=>"user", "_rev"=>"64-0af7a4cd94a32a6a37a5f8c890b30119"}, "synced"=>false, "_id"=>"4702018-04-21T03:18:03.843Z52", "_rev"=>"1-782f09e7f41b2f4e68fd3d9112cbb362"}, "seq"=>166}], "last_seq"=>166}, "sync"=>{"changes"=>{"results"=>[{"id"=>"4702018-04-21T03:18:03.843Z52", "changes"=>[{"rev"=>"1-782f09e7f41b2f4e68fd3d9112cbb362"}], "doc"=>{"user_id"=>470, "neighborhood_id"=>52, "created_at"=>"2018-04-21T03:18:03.843Z", "user"=>{"token"=>"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MjQzNjY1MTAsImlhdCI6MTUyNDI4MDExMCwiaXNzIjpudWxsLCJzY29wZXMiOlsiYWRkX3Zpc2l0cyIsImNoYW5nZV92aXNpdHMiLCJyZW1vdmVfdmlzaXRzIiwiYWRkX2hvdXNlcyIsImNoYW5nZV9ob3VzZXMiLCJyZW1vdmVfaG91c2VzIiwiYWRkX2luc3BlY3Rpb25zIiwiY2hhbmdlX2luc3BlY3Rpb25zIiwicmVtb3ZlX2luc3BlY3Rpb25zIiwiYWRkX2JyZWVkaW5nX3NpdGVzIiwiY2hhbmdlX2JyZWVkaW5nX3NpdGVzIiwicmVtb3ZlX2JyZWVkaW5nX3NpdGVzIl0sInVzZXIiOnsiaWQiOjQ3MCwidXNlcm5hbWUiOiJjZHBhcnJhIiwiZW1haWwiOiJjZHBhcnJhQGdtYWlsLmNvbSJ9fQ.xwzDg2wK9m86UZrPk0guXR7GwX-RNGUF1G64C8z0g-U", "id"=>470, "name"=>"Cristhian Parra", "username"=>"cdparra", "email"=>"cdparra@gmail.com", "neighborhood_id"=>52, "display_name"=>"cdparra", "picture"=>"https://gravatar.com/avatar/4f091ef04611939a6438507e10a2661c.png?r=pg&s=80&d=retro", "neighborhood"=>{"id"=>52, "name"=>"San Cayetano", "city_id"=>9, "geographical_display_name"=>"San Cayetano, Asunción", "city"=>{"name"=>"Asunción", "state"=>"Central", "country"=>"Paraguay", "localized_country_name"=>"Paraguay"}}, "visit_questionnaire"=>[{"code"=>"presence_near_person_with_symptoms", "body"=>"¿Estoy en la casa de la persona con sintomas?", "type"=>"radio", "answer_choices"=>[{"id"=>1, "body"=>"No"}, {"id"=>2, "body"=>"Si"}]}, {"code"=>"full_name_with_symptoms", "body"=>"¿Cuál es el nombre y el apellido completo de la persona con sintomas?", "type"=>"text"}, {"code"=>"date_of_birth", "body"=>"¿Cuál es la fecha de nacimiento de la persona con sintomas?", "type"=>"date"}, {"code"=>"gender", "body"=>"¿La persona con sintomas es mujero hombre?", "type"=>"radio", "answer_choices"=>[{"id"=>1, "body"=>"Mujer"}, {"id"=>2, "body"=>"Hombre"}]}, {"code"=>"identification_document_type", "body"=>"¿Cuál es el tipo de documento de indentificación de la persona con síntomas?", "type"=>"radio", "answer_choices"=>[{"id"=>1, "body"=>"Cedula de Ciudadania"}, {"id"=>2, "body"=>"Registro Civil"}, {"id"=>3, "body"=>"Tarjeta de Identidad"}, {"id"=>4, "body"=>"Pasaporte"}, {"id"=>5, "body"=>"Cedula de Extranjeria"}, {"id"=>6, "body"=>"No contestar a esta pregunta"}]}, {"code"=>"identification_document_number", "body"=>"¿Cuál es el número del documento de identificación de la persona con síntomas?", "type"=>"text"}, {"code"=>"telephone_number", "body"=>"¿Cuál es el número del teléfono celular o fijo de la persona con síntomas?", "type"=>"text"}, {"code"=>"symptoms", "body"=>"Seleccionan los sintomas de la persona:", "type"=>"checkbox", "answer_choices"=>[{"id"=>1, "body"=>"Fiebre"}, {"id"=>2, "body"=>"Mal-estar"}, {"id"=>3, "body"=>"Dolor muscular"}, {"id"=>4, "body"=>"Dolor articular"}, {"id"=>5, "body"=>"Dolor abdominal"}, {"id"=>6, "body"=>"Brote de color rojo en el cuerpo"}, {"id"=>7, "body"=>"Conjuntivitis"}, {"id"=>8, "body"=>"Dolor de cabeza"}, {"id"=>9, "body"=>"Otro"}]}, {"code"=>"date_of_beginning_of_symptoms", "body"=>"¿Cuál es la fecha de inicio de los síntomas?", "type"=>"date"}], "location_questionnaire"=>[{"code"=>"public_space_type", "body"=>"¿Qué tipo de espacio público notifica?", "type"=>"radio", "answer_choices"=>[{"id"=>1, "body"=>"Calle"}, {"id"=>2, "body"=>"Colegio"}, {"id"=>3, "body"=>"Iglesia"},{"id"=>4, "body"=>"Lote"}, {"id"=>5, "body"=>"Parque"}, {"id"=>6, "body"=>"Parqueadero"}, {"id"=>7, "body"=>"Negocio"}, {"id"=>8, "body"=>"Ladera"}, {"id"=>9, "body"=>"Otro"}]}], "city"=>{"name"=>"Asunción", "state"=>"Central", "localized_country_name"=>"Paraguay"}, "breeding_sites"=>[{"id"=>16, "description"=>"Barril", "elimination_methods"=>[{"id"=>50, "description"=>"Cambie el agua semanalmente"}, {"id"=>4, "description"=>"Retire el agua y limpie para remover posibles huevos (una vez por semana)"}, {"id"=>43, "description"=>"Tapar adecuadamente con tapa o con una capota apropiada"}, {"id"=>63, "description"=>"Tirar el agua"}]}, {"id"=>3, "description"=>"Basura (recipientes inutilizados)", "elimination_methods"=>[{"id"=>10, "description"=>"Organice una campaña para limpiar el barrio (coordinado por los Agentes de Vigilancia Sanitaria) Ejemplo: Busque lugares donde no tienen acceso los barrenderos de la comunidad"},{"id"=>9, "description"=>"Tire la basura en un basurero bien tapado"}, {"id"=>11, "description"=>"Únase a una campaña para limpiar el barrio (coordinado por los Agentes de Vigilancia Sanitaria) Ejemplo: en lugares donde no tienen acceso los barrenderos de la comunidad"}]}, {"id"=>13, "description"=>"Contenedores pequeños (de vidrio, jarrones, cubetas, tazones de agua, bolsas de plástico)", "elimination_methods"=>[{"id"=>41, "description"=>"Elimine hacienda hoyos en el plato"}, {"id"=>40, "description"=>"Remueva el agua y talle una vez por semana; en caso de ser bebedero de animales o aves, cambiar el agua diariamente"}]}, {"id"=>6, "description"=>"Cuneta","elimination_methods"=>[{"id"=>32, "description"=>"Destapar y limpiar"}]}, {"id"=>11, "description"=>"Drenajes", "elimination_methods"=>[{"id"=>24, "description"=>"Añada cloro o desinfectante semanalmente"}, {"id"=>46, "description"=>"Elimine la obstrucción"}, {"id"=>47, "description"=>"Suspenda los drenajes no utilizados"}]}, {"id"=>2, "description"=>"Llanta", "elimination_methods"=>[{"id"=>8, "description"=>"Cubra la llanta con algo que no se transforme en un foco potencial de mosquitos"}, {"id"=>38, "description"=>"Deshágase de la llanta (entregue al servicio de limpieza)"}, {"id"=>39, "description"=>"Organice un uso alternativo para la llanta: rellenarcon tierra para hacer una jardinera; rellenar con tierra y hacer una hortaliza; rellenar con arena, tierra y cemento y utilizar comopunto de paso"}, {"id"=>7, "description"=>"Transferir la llanta a un lugar cubierto y seco"}]}, {"id"=>14, "description"=>"Otros contenedores grandes utilizables (galones, piletas, otros depósitos de agua)", "elimination_methods"=>[{"id"=>42, "description"=>"Cubrirla caida del agua"}, {"id"=>44, "description"=>"Otros recipientes (limpie, seque, cubra o selle)"}]}, {"id"=>9, "description"=>"Piscinas", "elimination_methods"=>[{"id"=>21, "description"=>"Piscinas em uso: esfregue e limpe uma vez por semana"}, {"id"=>22, "description"=>"Piscinas que não estão em uso: esfregue, seque e vire ao contrário. Em casos de piscina de plástico desmonte e guarde"}]}, {"id"=>1, "description"=>"Plato pequeño de maceta o florero", "elimination_methods"=>[{"id"=>37, "description"=>"Coloque arena"}, {"id"=>35, "description"=>"Elimine haciendo agujeros en el plato"}, {"id"=>36, "description"=>"Plato removido (es decir, no se utilizará más)"}, {"id"=>55, "description"=>"Retire el agua acumulada en las hojas"}]}, {"id"=>10, "description"=>"Pozas de agua en la calle", "elimination_methods"=>[{"id"=>45, "description"=>"Elimine el agua con una escobilla de goma o una escoba"}]}, {"id"=>7, "description"=>"Registros abiertos", "elimination_methods"=>[{"id"=>19, "description"=>"Cancelación de registro"}, {"id"=>18, "description"=>"Llene con arena o tierra y cambie de lugar el acceso a la válvula"}, {"id"=>17, "description"=>"Selle con una cubiert impermeable para prevenir la penetración de agua sin perder acceso al registro"}]}, {"id"=>17, "description"=>"Sumideros", "elimination_methods"=>nil}, {"id"=>8, "description"=>"Techo y terrazas con agua", "elimination_methods"=>[{"id"=>20, "description"=>"Limpiar"}]}], "neighborhoods"=>[{"id"=>27, "name"=>"Alexis Arguello 2"}, {"id"=>7, "name"=>"Ariel Darce"}, {"id"=>25, "name"=>"Berthilda Olegario"}, {"id"=>28, "name"=>"Bloque k"}, {"id"=>50, "name"=>"Caacupemí"}, {"id"=>38, "name"=>"Camilo Chamorro 1"}, {"id"=>39, "name"=>"Camilo Chamorro 2"}, {"id"=>40, "name"=>"Camilo Chamorro 3"}, {"id"=>41, "name"=>"Camilo Chamorro 4"}, {"id"=>22, "name"=>"Camilo Ortega 1"}, {"id"=>12,"name"=>"Centro Escolar Rafaela Herrera"}, {"id"=>19, "name"=>"Divino Pastor"}, {"id"=>32, "name"=>"El Laurel"}, {"id"=>5, "name"=>"Francisco Meza"}, {"id"=>10, "name"=>"Galope"}, {"id"=>16, "name"=>"Germán Pomares"}, {"id"=>42, "name"=>"Hugo Chávez 1"}, {"id"=>43,"name"=>"Hugo Chávez 2"}, {"id"=>44, "name"=>"Hugo Chávez 3"}, {"id"=>45, "name"=>"Jorge Salazar"}, {"id"=>9, "name"=>"Josefa Ortiz de Domínguez"}, {"id"=>36, "name"=>"La Esperanza"}, {"id"=>49, "name"=>"La Fachada"}, {"id"=>8, "name"=>"La Quinta"}, {"id"=>33, "name"=>"La Zacatera"}, {"id"=>26, "name"=>"Lomas del Sur"}, {"id"=>20, "name"=>"Los Solanos"}, {"id"=>48, "name"=>"Managua Test Comunidad"}, {"id"=>35, "name"=>"Marco Somarriba"}, {"id"=>1, "name"=>"Maré"}, {"id"=>18, "name"=>"María Mora"}, {"id"=>14, "name"=>"Martha Aguilar"}, {"id"=>17, "name"=>"Martín Lutero"}, {"id"=>4, "name"=>"Ocachicualli"}, {"id"=>37, "name"=>"Pablo Sexto"}, {"id"=>52, "name"=>"San Cayetano"}, {"id"=>51, "name"=>"San Ignacio"}, {"id"=>30, "name"=>"San José de las Colinas"}, {"id"=>15, "name"=>"San Luis"},{"id"=>34, "name"=>"Sierra Maestra Norte"}, {"id"=>29, "name"=>"Solidaridad"}, {"id"=>11, "name"=>"Tangará"}, {"id"=>24, "name"=>"Tangará Buena Vista"}, {"id"=>3, "name"=>"Tepalcingo"}, {"id"=>13, "name"=>"Test Neighborhood"}, {"id"=>31, "name"=>"Villa Esperanza"},{"id"=>46, "name"=>"Villa Reconciliación Norte 2"}, {"id"=>47, "name"=>"Villa Reconciliación Norte 3"}, {"id"=>21, "name"=>"VladimirHernández"}, {"id"=>23, "name"=>"William Galeano"}], "total_points"=>0, "green_locations"=>0, "_id"=>"user", "_rev"=>"64-0af7a4cd94a32a6a37a5f8c890b30119"}, "synced"=>false, "_id"=>"4702018-04-21T03:18:03.843Z52", "_rev"=>"1-782f09e7f41b2f4e68fd3d9112cbb362"}, "seq"=>166}], "last_seq"=>166}}}
end
